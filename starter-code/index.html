<!DOCTYPE html>
<html lang="en">

<style>

input {
  border: solid 1px black;
}

.btn {
  display: inline-block;
  padding: 6px 12px;
  margin-bottom: 0;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.42857143;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  -ms-touch-action: manipulation;
  touch-action: manipulation;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 4px;
}

.flex-button {
  display: flex;
  justify-content: center;
  margin-top: 50px;
}

.btn-success {
    color: #fff;
    background-color: #5cb85c;
    border-color: #4cae4c;
    display: inline-flex;
}

.btn-add {
    color: #fff;
    background-color: blue;
    border-color: blue;
    display: inline-flex;
}

.flex-product {
  display: flex;
  justify-content: space-around;
}

.btn-delete {
    color: #fff;
    background-color: #CF000F;
    border-color: #CF000F;
}

.quantity {
  margin: 0 5px;
}

h1 {
  text-align: center;
  padding: 20px;
}

</style>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel="stylesheet" href="./css/style.css">
  <script type="text/javascript" src="./js/index.js"></script>
  <title>Ironhack cart</title>
</head>

<body>

<h1>Ironhack Merchandising Shop</h1>

<div class = "row">
  <div class = "flex-product">

    <div>
      <span>IronBubble-head</span>
    </div>

    <div>
      <span>$</span>
      <span class = "price-unit">25</span>
    </div>

    <div>
      <label>QTY</label>
      <input class = "quantity" type = "text" value = "0">
    </div>

    <div>
      <span>$</span>
      <span class = "total-product">0</span>
    </div>

    <div>
      <button class = "btn btn-delete" name = "delete">Delete</button>
    </div>
</div>

</div>

<div class = "flex-button">
<button class = "btn btn-success" id = "calc-prices-button">Calculate Prices</button>
</div>

<div class = "flex-button">
  <button class = "btn btn-add" id = "new-item-create">Add Product</button>
</div>

<h1>
  <span>$</span>
  <span class = "total-price">0</span>
</h1>
                                                                                          
</body>

<script>

// Functions
  
function deleteItem(e){                                                                                         
  console.log(e);
  var deleteButtons = document.getElementsByClassName("btn-delete");
  var items = document.getElementsByClassName("flex-product")
  
  for(var i = 0; i<deleteButtons.length ; i++){
    deleteButtons[i].onclick = items[i].remove();
  }
  }

function getPriceByProduct(){
  var allProducts = document.getElementsByClassName("flex-product");
  for (i=0; i < allProducts.length; i++) {
    var totalProduct = allProducts[i].querySelector("total-product");
    var priceUnit = allProducts[i].querySelector("price-unit");
    var quantity = allProducts[i].querySelector("quantity");
    totalProduct.innerText = parseInt(parseInt(priceUnit.innerText) * parseInt(quantity.value));
  }
}

function getTotalPrice(e) {
  var allProductsPrices = document.getElementsByClassName("total-product");
  var totalPrice = allProductsPrices.reduce(function add(accumulator, a) {
    return accumulator + a;
  })
  document.querySelector("total-price").innerText = totalPrice;
}

function createNewItemRow(itemName, itemUnitPrice){
}

function createPriceInput(){
}

function createQuantityInput(){
}

function createDeleteButton(){
}

function createQuantityNode(){
}


// Buttons

function createNewItem(){
  var btnAdd = document.getElementsByName("add");
  btnAdd.onclick = createNewItemRow();
  btnAdd.onclick = createPriceInput();
  btnAdd.onclick = createQuantityInput();
  btnAdd.onclick = createDeleteButton();
}

function updatePriceByProduct(){
  var qtyInput = document.querySelector("quantity");
  qtyInput.onchange = getPriceByProduct();
}

function updateTotalPrice(){
  var btnCalculate = document.getElementsByName("calculate");
  btnCalculate.onclick = getTotalPrice();
}



window.onload = function(){
  var calculatePriceButton = document.getElementById('calc-prices-button');
  var createItemButton = document.getElementById('new-item-create');

  calculatePriceButton.onclick = getTotalPrice;
  createItemButton.onclick = createNewItem;

};

</script>

</html>
